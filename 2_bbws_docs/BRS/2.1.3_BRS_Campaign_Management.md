# BRS 2.1.3: Campaign Management

**Version**: 1.1
**Document ID**: BRS-2.1.3
**Created**: 2026-01-06
**Last Updated**: 2026-01-18
**Status**: Draft
**Author**: Platform Architecture Team

---
---

## 1. Scope Definition

### 1.1 In Scope

| Capability | Description |
|------------|-------------|
| **View Campaigns** | List all active promotions |
| **View Details** | See campaign discount and terms |
| **Create Campaign** | Admin creates promotional offers |
| **Update Campaign** | Admin modifies campaign details (name, discount, dates, products, terms) |
| **Disable Campaign** | Admin deactivates campaigns without deletion (soft disable) |
| **Reactivate Campaign** | Admin re-enables previously disabled campaigns |
| **Campaign Audit Trail** | Track all modifications and status changes |
| **Remove Campaign** | Admin permanently ends campaigns |

### 4.2 Out of Scope

| Capability | Handled By |
|------------|------------|
| Applying to cart | Cart Management (2.1.7) |
| Usage tracking | Future phase |
| Multi-product campaigns | Future phase |

---

## 2. Business Capabilities

### 2.1 Epic 1: Campaign Display

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.3-001 | Visitor | see active promotions | I can take advantage of discounts |
| US-2.1.3-002 | Visitor | see original and discounted price | I understand the savings |
| US-2.1.3-003 | Visitor | see campaign expiry date | I know when to act |

### 2.2 Epic 2: Campaign Administration

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.3-004 | Marketing | create promotional campaigns | I can drive sales |
| US-2.1.3-005 | Marketing | set start and end dates | campaigns run automatically |
| US-2.1.3-006 | Marketing | update discount percentage | I can adjust offers |

### 2.3 Epic 3: Update Promotions

**Epic Description**: Allow administrators to modify existing campaign/promotion details including name, discount percentage, dates, applicable products, and terms. Changes should take effect immediately while preserving campaign history for audit purposes.

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.3-007 | Marketing | update campaign name and description | I can correct or improve messaging |
| US-2.1.3-008 | Marketing | modify discount percentage on active campaign | I can adjust offers based on performance |
| US-2.1.3-009 | Marketing | extend or shorten campaign dates | I can respond to business needs |
| US-2.1.3-010 | Marketing | change applicable products/packages | I can target different offerings |
| US-2.1.3-011 | Marketing | update campaign terms and conditions | I can clarify promotion rules |
| US-2.1.3-012 | Marketing | see history of campaign changes | I have audit trail for compliance |

#### Acceptance Criteria

| Story ID | Acceptance Criteria |
|----------|---------------------|
| US-2.1.3-007 | Given an existing campaign, when I update the name/description, then the changes are reflected immediately on customer-facing pages |
| US-2.1.3-008 | Given an active campaign, when I change the discount percentage, then new orders use the updated discount while existing cart items retain their original discount until checkout |
| US-2.1.3-009 | Given an active campaign, when I extend the end date, then the campaign continues beyond the original date; when I shorten the date to past current time, then the campaign ends immediately |
| US-2.1.3-010 | Given an active campaign, when I add or remove applicable products, then the pricing display updates accordingly |
| US-2.1.3-011 | Given any campaign, when I update terms and conditions, then customers see the updated terms |
| US-2.1.3-012 | Given any campaign modification, when the change is saved, then an audit record is created with timestamp, user, and previous values |

#### Data Requirements

| Field | Type | Constraints | Description |
|-------|------|-------------|-------------|
| modification_id | UUID | Primary key | Unique identifier for change record |
| campaign_id | UUID | Foreign key | Reference to modified campaign |
| modified_by | String | Required | User who made the change |
| modified_at | DateTime | Required | Timestamp of modification |
| field_changed | String | Required | Name of field that was modified |
| previous_value | String | Required | Value before change |
| new_value | String | Required | Value after change |

### 2.4 Epic 4: Disable Promotions

**Epic Description**: Allow administrators to deactivate campaigns without permanently deleting them. Disabled campaigns are hidden from customers but preserved in the system for historical reference, reporting, and potential reactivation.

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.3-013 | Marketing | disable an active campaign immediately | I can stop a promotion that is not performing |
| US-2.1.3-014 | Marketing | disable a scheduled (future) campaign | I can cancel a planned promotion before it starts |
| US-2.1.3-015 | Marketing | see disabled campaigns in admin view | I can review historical campaigns |
| US-2.1.3-016 | Marketing | reactivate a disabled campaign | I can reuse a successful promotion |
| US-2.1.3-017 | Marketing | add a reason for disabling | I can document why the campaign was stopped |
| US-2.1.3-018 | Customer | not see disabled campaigns on website | I only see valid active promotions |

#### Acceptance Criteria

| Story ID | Acceptance Criteria |
|----------|---------------------|
| US-2.1.3-013 | Given an active campaign, when I disable it, then customers no longer see the promotion and new orders cannot use the discount; existing cart items with the discount are handled per BR-CMP-008 |
| US-2.1.3-014 | Given a scheduled campaign, when I disable it, then the campaign does not activate on its start date |
| US-2.1.3-015 | Given the admin campaign list, when I filter by status, then I can see disabled campaigns separately from active ones |
| US-2.1.3-016 | Given a disabled campaign, when I reactivate it with valid dates (end date in future), then the campaign becomes active again |
| US-2.1.3-017 | Given any campaign disable action, when prompted, then I can optionally provide a reason which is stored with the status change |
| US-2.1.3-018 | Given a disabled campaign, when a customer visits the promotions page, then the disabled campaign is not displayed |

#### Campaign Status Lifecycle

```
┌─────────────┐     Create      ┌─────────────┐
│   DRAFT     │ ───────────────>│  SCHEDULED  │
└─────────────┘                 └──────┬──────┘
                                       │
                        Start Date     │ Disable
                        Reached        │
                                       v
                                ┌─────────────┐
                    ┌──────────>│  DISABLED   │<──────────┐
                    │           └──────┬──────┘           │
                    │                  │                  │
                Disable           Reactivate          Disable
                    │                  │                  │
                    │                  v                  │
              ┌─────┴─────┐     ┌─────────────┐     ┌─────┴─────┐
              │  ACTIVE   │<────│  SCHEDULED  │     │  EXPIRED  │
              └───────────┘     └─────────────┘     └───────────┘
                    │                                     ^
                    │         End Date Reached            │
                    └─────────────────────────────────────┘
```

#### Data Requirements

| Field | Type | Constraints | Description |
|-------|------|-------------|-------------|
| status | Enum | DRAFT, SCHEDULED, ACTIVE, DISABLED, EXPIRED | Current campaign status |
| disabled_at | DateTime | Nullable | Timestamp when campaign was disabled |
| disabled_by | String | Nullable | User who disabled the campaign |
| disable_reason | String | Nullable, max 500 chars | Optional reason for disabling |
| reactivated_at | DateTime | Nullable | Timestamp when campaign was reactivated |
| reactivated_by | String | Nullable | User who reactivated the campaign |

---

## 3. Business Rules

### 3.1 General Campaign Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CMP-001 | Discount must be 0-100% | Valid percentage |
| BR-CMP-002 | End date must be after start date | Logical range |
| BR-CMP-003 | Campaign code must be unique | Avoid confusion |
| BR-CMP-004 | Expired campaigns hidden from customers | Only active shown |

### 3.2 Update Promotion Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CMP-005 | All campaign modifications must be logged with user, timestamp, and previous values | Audit compliance and traceability |
| BR-CMP-006 | Discount percentage changes take effect immediately for new orders | Ensure pricing consistency |
| BR-CMP-007 | Cart items with existing discount retain original discount until checkout or cart expiry | Protect customer experience during checkout |
| BR-CMP-008 | Campaign end date cannot be modified to a date in the past if campaign is active | Prevent retroactive campaign termination; use disable instead |
| BR-CMP-009 | Campaign code cannot be modified after campaign creation | Maintain referential integrity for orders using the code |
| BR-CMP-010 | Updating an expired campaign does not reactivate it; explicit reactivation required | Prevent accidental reactivation |

### 3.3 Disable Promotion Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CMP-011 | Disabled campaigns are hidden from all customer-facing pages | Clean customer experience |
| BR-CMP-012 | Disabled campaigns retain all data for reporting and audit | Historical data preservation |
| BR-CMP-013 | Only ACTIVE, SCHEDULED, and EXPIRED campaigns can be disabled | Logical state transitions |
| BR-CMP-014 | Reactivating a disabled campaign requires end date to be in the future | Ensure valid campaign period |
| BR-CMP-015 | When a campaign is disabled mid-promotion, cart items with that discount are honoured for 24 hours or until checkout, whichever comes first | Grace period for active shoppers |
| BR-CMP-016 | Disabled campaigns cannot be used for new orders | Prevent discount application |
| BR-CMP-017 | Disable reason is optional but recommended for compliance | Documentation best practice |
| BR-CMP-018 | A campaign can be disabled and reactivated multiple times; each transition is logged | Full audit trail |

---

## 4. Success Criteria

### 4.1 General Metrics

| Metric | Target |
|--------|--------|
| **Campaign Load Time** | < 300ms |
| **Campaign Conversion** | Track usage rate |
| **Admin Update Time** | < 5 minutes |

### 4.2 Update Promotions Metrics

| Metric | Target |
|--------|--------|
| **Update Response Time** | < 500ms for campaign updates |
| **Audit Log Completeness** | 100% of modifications logged |
| **Update Success Rate** | > 99.5% of update operations succeed |
| **Cache Invalidation Time** | < 2 seconds for customer-facing updates to reflect |

### 4.3 Disable Promotions Metrics

| Metric | Target |
|--------|--------|
| **Disable Response Time** | < 300ms for disable operation |
| **Customer Page Update** | < 5 seconds for disabled campaigns to be hidden |
| **Reactivation Success Rate** | > 99.5% of reactivation operations succeed |
| **Grace Period Compliance** | 100% of in-cart discounts honoured within 24-hour window |

---

## 5. References

| Document | Relationship |
|----------|--------------|
| BRS 2.1.4: Product Management | Related products |
| BRS 2.1.7: Cart Management | Campaign application |
| HLD 2.1.3: Campaign Management | Architecture |
| LLD 2.1.3: Campaigns Lambda | Implementation |

---

**End of Document**
