# BRS 2.1.7: Cart Management

**Version**: 1.0
**Document ID**: BRS-2.1.7
**Created**: 2026-01-06
**Last Updated**: 2026-01-06
**Status**: Draft
**Author**: Platform Architecture Team
**Reviewed By**: TBD
**Approved By**: TBD

---

## Document Control

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 1.0 | 2026-01-06 | Platform Architecture | Initial version extracted from LLD |

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Business Problem](#2-business-problem)
3. [Business Value](#3-business-value)
4. [Stakeholders](#4-stakeholders)
5. [Scope Definition](#5-scope-definition)
6. [Business Capabilities](#6-business-capabilities)
7. [Business Rules](#7-business-rules)
8. [Success Criteria](#8-success-criteria)
9. [Risks and Mitigations](#9-risks-and-mitigations)
10. [References](#10-references)
11. [Sign-Off](#11-sign-off)

---

## 1. Executive Summary

### 1.1 Purpose

The **Cart Management** capability enables website visitors and registered customers to collect WordPress hosting products before purchase. This capability provides a familiar shopping experience where customers can browse, add products to their cart, and proceed to checkout when ready.

### 1.2 Business Context

The Customer Portal allows both anonymous visitors and registered customers to build their shopping cart. Visitors can browse and add products without creating an account, reducing friction in the buying journey. When a visitor decides to register or log in, their cart contents are preserved and merged with any existing cart, ensuring no products are lost.

### 1.3 Key Benefits

| Benefit | Business Impact |
|---------|-----------------|
| **No Registration Required** | Visitors can start shopping immediately |
| **Persistent Carts** | Visitors return to find their cart intact (30 days) |
| **Seamless Login** | Cart contents preserved when registering/logging in |
| **Real-time Updates** | Instant feedback when adding or modifying items |
| **Familiar Experience** | Standard e-commerce cart behavior customers expect |

### 1.4 Document Relationship

| Document | Focus Area |
|----------|------------|
| **BRS 2.1.4: Product Management** | Product catalog and pricing (upstream) |
| **BRS 2.1.7: Cart Management (This)** | Shopping cart operations |
| **BRS 2.1.8: Order Management** | Converting cart to order (downstream) |

---

## 2. Business Problem

### 2.1 Current State

| Problem | Impact |
|---------|--------|
| **No Shopping Cart** | Customers cannot collect multiple products |
| **Registration Barrier** | Must register before browsing products |
| **Lost Selections** | Product choices lost when leaving site |
| **Manual Process** | No way to manage purchase quantity |
| **No Price Visibility** | Cannot see total before checkout |

### 2.2 Desired State

| Goal | Outcome |
|------|---------|
| **Self-Service Cart** | Customers manage their own shopping cart |
| **Guest Shopping** | Browse and add products without registration |
| **Persistent Storage** | Cart saved for 30 days for returning visitors |
| **Quantity Control** | Easily adjust quantities or remove items |
| **Running Total** | Always see current cart value |

### 2.3 Why Now

| Driver | Business Pressure |
|--------|-------------------|
| **Customer Expectation** | E-commerce standard requires cart functionality |
| **Conversion Rate** | Registration barriers reduce sales |
| **Competition** | Competitors offer frictionless shopping |
| **Mobile Users** | Session-based shopping critical for mobile |

---

## 3. Business Value

### 3.1 Quantifiable Benefits

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| **Browse-to-Cart Rate** | 0% (no cart) | 25%+ | New capability |
| **Registration Friction** | 100% required | 0% for browsing | Barrier removed |
| **Cart Persistence** | None | 30 days | New capability |
| **Cart Abandonment Recovery** | 0% | 15%+ | Email reminders |

### 3.2 Conversion Impact

| Scenario | Without Cart | With Cart | Improvement |
|----------|--------------|-----------|-------------|
| **Visitor adds product** | Not possible | Immediate | New capability |
| **Visitor returns next day** | Start over | Cart ready | 30-day persistence |
| **Visitor registers** | Nothing saved | Cart merged | Zero loss |
| **Multi-product purchase** | Not possible | Supported | New capability |

### 3.3 Strategic Benefits

| Benefit | Strategic Value |
|---------|-----------------|
| **Lower Barrier to Entry** | Visitors engage without commitment |
| **Customer Intent Data** | Cart contents reveal buying interest |
| **Remarketing Opportunity** | Abandoned cart email campaigns |
| **Upsell Potential** | Show related products in cart |

---

## 4. Stakeholders

### 4.1 Business Stakeholders

| Stakeholder | Interest | Benefit |
|-------------|----------|---------|
| **Sales Team** | Conversion rates | Reduced friction, more sales |
| **Marketing** | Customer behavior | Cart analytics, remarketing |
| **Product Manager** | User experience | Standard shopping experience |
| **Customer Service** | Support inquiries | Visibility into customer carts |

### 4.2 Customer Stakeholders

| Stakeholder | Interest | Benefit |
|-------------|----------|---------|
| **Visitor** | Easy shopping | No registration to browse |
| **Registered Customer** | Convenience | Cart persists across sessions |
| **Mobile User** | Quick access | Cart available on all devices |

---

## 5. Scope Definition

### 5.1 In Scope

| Capability | Description |
|------------|-------------|
| **Add to Cart** | Add products with quantity selection |
| **View Cart** | See all items, quantities, and total |
| **Update Quantity** | Change quantity of cart items |
| **Remove Item** | Remove unwanted products |
| **Clear Cart** | Empty entire cart contents |
| **Guest Cart** | Shopping without registration |
| **Cart Merge** | Combine guest cart with account cart on login |
| **Cart Persistence** | Save cart for 30 days |

### 5.2 Out of Scope

| Capability | Handled By | Reference |
|------------|------------|-----------|
| Product catalog | Product Management | BRS 2.1.4 |
| Order creation | Order Management | BRS 2.1.8 |
| Payment processing | Payment Management | BRS 2.1.9 |
| Wishlist functionality | Future Phase | TBC-002 |
| Cart abandonment emails | Future Phase | TBC-001 |
| Saved carts (named) | Not planned | N/A |

### 5.3 Capability Boundaries

```
+------------------+     +------------------+     +------------------+
|   BRS 2.1.4      |     |   BRS 2.1.7      |     |   BRS 2.1.8      |
|   Product Mgmt   |     |   Cart Mgmt      |     |   Order Mgmt     |
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
| Product catalog  |---->| Add to cart      |---->| Create order     |
|                  |     |                  |     |                  |
| Product pricing  |     | Update quantity  |     | Cart → Order     |
|                  |     |                  |     |                  |
| Product details  |     | Remove item      |     | Clear cart       |
|                  |     |                  |     |                  |
+------------------+     +------------------+     +------------------+
```

---

## 6. Business Capabilities

### 6.1 Epic 1: Guest Shopping Cart

**Business Objective**: Enable website visitors to build a shopping cart without requiring registration or login.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.7-001 | Visitor | add a product to my cart | I can purchase it later |
| US-2.1.7-002 | Visitor | view my cart contents | I can see what I've selected |
| US-2.1.7-003 | Visitor | see the total price | I know what I'll pay |
| US-2.1.7-004 | Visitor | return tomorrow and find my cart | I can continue shopping |

#### Business Outcomes

- Visitors can add products within seconds
- Cart persists for 30 days via browser cookie
- No personal information required
- Running total always visible

---

### 6.2 Epic 2: Cart Item Management

**Business Objective**: Allow customers to modify their cart contents easily before checkout.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.7-005 | Customer | change the quantity of an item | I can order more or fewer |
| US-2.1.7-006 | Customer | remove an item from my cart | I can change my mind |
| US-2.1.7-007 | Customer | clear my entire cart | I can start fresh |
| US-2.1.7-008 | Customer | see updated totals immediately | I know the new price |

#### Business Outcomes

- Quantity changes reflected instantly
- Items removable with single action
- Clear cart option available
- Total recalculated automatically

---

### 6.3 Epic 3: Registered Customer Cart

**Business Objective**: Provide registered customers with a persistent cart tied to their account.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.7-009 | Registered Customer | have my cart saved to my account | I can access it from any device |
| US-2.1.7-010 | Registered Customer | keep my cart after logging out | I can continue later |
| US-2.1.7-011 | Registered Customer | see the same cart on mobile and desktop | my experience is consistent |

#### Business Outcomes

- Cart associated with customer account
- Cart available on all devices after login
- No expiry for registered customer carts
- Cart survives logout/login cycles

---

### 6.4 Epic 4: Cart Merge on Login

**Business Objective**: Preserve visitor selections when they register or log in to their account.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.7-012 | Visitor | keep my cart items when I register | I don't lose my selections |
| US-2.1.7-013 | Returning Customer | have my guest cart added to my account cart | all my items are together |
| US-2.1.7-014 | Customer | see combined totals after merge | I see my complete cart |

#### Business Outcomes

- Guest cart merged automatically on login
- Duplicate products combined (quantities added)
- No user action required for merge
- Anonymous cart cleaned up after merge

---

## 7. Business Rules

### 7.1 Cart Creation Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CRT-001 | Guest cart created on first add-to-cart | Reduces friction |
| BR-CRT-002 | Cart identified by unique ID in cookie | Enables persistence |
| BR-CRT-003 | One active cart per customer account | Simplifies experience |
| BR-CRT-004 | One guest cart per browser | Prevents confusion |

### 7.2 Item Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CRT-005 | Maximum 50 items per cart | Performance and practical limit |
| BR-CRT-006 | Quantity between 1 and 99 per item | Reasonable purchase limits |
| BR-CRT-007 | Only active products can be added | Prevents ordering unavailable items |
| BR-CRT-008 | Price captured at add time | Transparency for customer |

### 7.3 Persistence Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CRT-009 | Guest carts expire after 30 days | Data cleanup |
| BR-CRT-010 | Registered customer carts never expire | Customer convenience |
| BR-CRT-011 | Cart survives browser close | Customer expectation |
| BR-CRT-012 | Expired carts are soft-deleted | Audit trail |

### 7.4 Merge Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-CRT-013 | Guest cart merged on login automatically | Zero friction |
| BR-CRT-014 | Duplicate products combine quantities | Logical behavior |
| BR-CRT-015 | Guest cart deactivated after merge | Cleanup |
| BR-CRT-016 | Merge uses most recent price | Fairness |

---

## 8. Success Criteria

### 8.1 Operational Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Add to Cart Success** | > 99.5% | Successful / Attempted |
| **Cart Load Time** | < 200ms | API response time |
| **Cart Availability** | 99.9% | Uptime monitoring |

### 8.2 Customer Experience Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Add-to-Cart Rate** | > 20% | Products viewed → added to cart |
| **Cart-to-Checkout Rate** | > 60% | Carts with items → proceeded to checkout |
| **Cart Merge Success** | 100% | No items lost on login |

### 8.3 Business Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Average Cart Value** | Track | Total value / Cart count |
| **Items per Cart** | Track | Total items / Cart count |
| **Cart Abandonment Rate** | < 70% | Carts not converted / Total carts |

---

## 9. Risks and Mitigations

### 9.1 Business Risks

| ID | Risk | Probability | Impact | Mitigation |
|----|------|-------------|--------|------------|
| R-001 | Cart abandonment | High | Medium | Abandonment email reminders (Phase 2) |
| R-002 | Price changes after add | Medium | Low | Validate prices at checkout |
| R-003 | Product removed from catalog | Low | Medium | Notify customer, remove from cart |
| R-004 | Cart merge fails | Low | High | Retry mechanism, support escalation |

### 9.2 Technical Risks

| ID | Risk | Probability | Impact | Mitigation |
|----|------|-------------|--------|------------|
| R-005 | Cookie blocked by browser | Low | Medium | LocalStorage fallback |
| R-006 | Cart data corrupted | Low | Medium | Validation on load, auto-repair |

---

## 10. References

### 10.1 Related Business Documents

| Document | Relationship |
|----------|--------------|
| BRS 2.1.4: Product Management | Upstream - provides products to add |
| BRS 2.1.8: Order Management | Downstream - converts cart to order |
| BRS 2.1: Customer Portal Public | Parent capability |

### 10.2 Technical Documents

| Document | Content |
|----------|---------|
| HLD 2.1.7: Cart Management | Architectural design |
| LLD 2.1.7: Cart Lambda | Implementation details |

---

## 11. Sign-Off

| Role | Name | Signature | Date |
|------|------|-----------|------|
| Product Owner | | | |
| Sales Manager | | | |
| Marketing Manager | | | |

---

**End of Document**
