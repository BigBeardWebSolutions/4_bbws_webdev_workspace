# BRS 2.1.8: Order Management

**Version**: 1.0
**Document ID**: BRS-2.1.8
**Created**: 2026-01-06
**Last Updated**: 2026-01-06
**Status**: Draft
**Author**: Platform Architecture Team
**Reviewed By**: TBD
**Approved By**: TBD

---

## Document Control

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 1.0 | 2026-01-06 | Platform Architecture | Initial version extracted from LLD |

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Business Problem](#2-business-problem)
3. [Business Value](#3-business-value)
4. [Stakeholders](#4-stakeholders)
5. [Scope Definition](#5-scope-definition)
6. [Business Capabilities](#6-business-capabilities)
7. [Business Rules](#7-business-rules)
8. [Success Criteria](#8-success-criteria)
9. [Risks and Mitigations](#9-risks-and-mitigations)
10. [References](#10-references)
11. [Sign-Off](#11-sign-off)

---

## 1. Executive Summary

### 1.1 Purpose

The **Order Management** capability enables customers to convert their shopping cart into confirmed orders within the BBWS Customer Portal. This capability handles the complete order lifecycle from creation through completion, ensuring customers receive proper confirmation and documentation.

### 1.2 Business Context

When a customer is ready to purchase WordPress hosting packages, they proceed from the shopping cart to create an order. The Order Management capability captures all order details, generates invoices, and sends confirmation emails to both the customer and the internal team. This enables seamless handoff to the Payment Management capability for transaction processing.

### 1.3 Key Benefits

| Benefit | Business Impact |
|---------|-----------------|
| **Instant Order Confirmation** | Customers receive immediate acknowledgment of their order |
| **Automatic Documentation** | PDF invoices generated and stored automatically |
| **Real-time Notifications** | Both customers and staff notified immediately |
| **Order History** | Customers can view and track all their orders |
| **Campaign Tracking** | Discount codes and promotions captured with orders |

### 1.4 Document Relationship

| Document | Focus Area |
|----------|------------|
| **BRS 2.1.7: Cart Management** | Adding products to cart (upstream) |
| **BRS 2.1.8: Order Management (This)** | Converting cart to confirmed orders |
| **BRS 2.1.9: Payment Management** | Processing payment for orders (downstream) |
| **BRS 2.5: Tenant Management** | Customer account management |

---

## 2. Business Problem

### 2.1 Current State

| Problem | Impact |
|---------|--------|
| **Manual Order Processing** | Staff must manually record and track customer orders |
| **No Order History** | Customers cannot view their past purchases |
| **Manual Invoice Generation** | Staff must create invoices manually for each order |
| **Delayed Notifications** | Customers wait for manual email confirmations |
| **Campaign Tracking Gap** | No automated capture of promotional discounts |

### 2.2 Desired State

| Goal | Outcome |
|------|---------|
| **Automated Order Creation** | Orders created instantly from cart contents |
| **Complete Order History** | Customers access all orders in one place |
| **Automatic Invoicing** | PDF invoices generated and stored automatically |
| **Instant Notifications** | Immediate emails to customers and staff |
| **Campaign Analytics** | Full tracking of promotions and discounts |

### 2.3 Why Now

| Driver | Business Pressure |
|--------|-------------------|
| **Customer Experience** | Modern e-commerce expectations require instant feedback |
| **Operational Efficiency** | Manual order processing is costly and error-prone |
| **Audit Requirements** | Need complete order records for financial compliance |
| **Marketing Analytics** | Require campaign performance tracking |

---

## 3. Business Value

### 3.1 Quantifiable Benefits

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| **Order Processing Time** | 10-30 minutes | Instant | 99%+ reduction |
| **Manual Invoice Creation** | 15 min/order | 0 min/order | 100% reduction |
| **Order Confirmation Delay** | Hours | < 1 minute | 99%+ faster |
| **Order Errors** | 5% error rate | < 0.1% error rate | 98% reduction |

### 3.2 Annual Savings (at 500 orders/year)

| Cost Category | Before | After | Savings |
|---------------|--------|-------|---------|
| **Manual Order Entry** | R83,000 | R0 | R83,000 |
| **Invoice Generation** | R62,500 | R0 | R62,500 |
| **Order Error Resolution** | R25,000 | R2,500 | R22,500 |
| **Total Annual Savings** | | | **R168,000** |

*Assumptions: R500/hour admin time, 10 min order entry, 15 min invoice*

### 3.3 Strategic Benefits

| Benefit | Strategic Value |
|---------|-----------------|
| **Customer Self-Service** | Customers manage orders independently |
| **Scalability** | Handle unlimited orders without adding staff |
| **Data-Driven Decisions** | Order analytics inform business strategy |
| **Professional Image** | Instant invoices build customer confidence |

---

## 4. Stakeholders

### 4.1 Business Stakeholders

| Stakeholder | Interest | Benefit |
|-------------|----------|---------|
| **Finance Manager** | Revenue tracking, invoicing | Automated invoice generation |
| **Sales Team** | Order conversion, campaigns | Real-time order notifications |
| **Customer Service** | Order inquiries | Complete order visibility |
| **Marketing** | Campaign effectiveness | Promotion tracking and analytics |

### 4.2 Customer Stakeholders

| Stakeholder | Interest | Benefit |
|-------------|----------|---------|
| **Customer** | Easy ordering | Quick cart-to-order conversion |
| **Customer** | Order documentation | Instant PDF invoice access |
| **Customer** | Order tracking | Complete order history |

---

## 5. Scope Definition

### 5.1 In Scope

| Capability | Description |
|------------|-------------|
| **Order Creation** | Convert shopping cart to confirmed order |
| **Guest Checkout** | Allow orders without prior registration |
| **Order Viewing** | Customer can view order details |
| **Order History** | List all orders with filtering and pagination |
| **Order Cancellation** | Cancel pending orders before payment |
| **Invoice Generation** | Automatic PDF invoice creation |
| **Email Notifications** | Customer confirmation and internal alerts |
| **Campaign Capture** | Record promotional discounts with orders |

### 5.2 Out of Scope

| Capability | Handled By | Reference |
|------------|------------|-----------|
| Cart management | Cart Management | BRS 2.1.7 |
| Payment processing | Payment Management | BRS 2.1.9 |
| Refund processing | Manual (Phase 2) | TBC-003 |
| Order editing after creation | Not supported | N/A |
| Multi-currency orders | Not required | ZAR only |

### 5.3 Capability Boundaries

```
+------------------+     +------------------+     +------------------+
|   BRS 2.1.7      |     |   BRS 2.1.8      |     |   BRS 2.1.9      |
|   Cart Mgmt      |     |   Order Mgmt     |     |   Payment Mgmt   |
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
| Add to cart      |---->| Create order     |---->| Initiate payment |
|                  |     |                  |     |                  |
| View cart        |     | View order       |     | Confirm payment  |
|                  |     |                  |     |                  |
| Apply campaign   |     | Order history    |     | Update order     |
|                  |     |                  |     | status           |
+------------------+     +------------------+     +------------------+
```

---

## 6. Business Capabilities

### 6.1 Epic 1: Order Creation

**Business Objective**: Enable customers to convert their shopping cart into a confirmed order with all necessary documentation.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.8-001 | Customer | create an order from my cart | I can proceed to payment |
| US-2.1.8-002 | Customer | checkout without registering first | I can purchase quickly |
| US-2.1.8-003 | Customer | apply a promotional code | I receive my discount |
| US-2.1.8-004 | Customer | enter my billing address | my invoice is correct |

#### Business Outcomes

- Order created within seconds of submission
- Customer account auto-created for guest checkout
- Campaign discounts applied and recorded
- Order confirmation displayed immediately

---

### 6.2 Epic 2: Order Documentation

**Business Objective**: Automatically generate and distribute professional invoices and confirmations.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.8-005 | Customer | receive a PDF invoice | I have documentation for my records |
| US-2.1.8-006 | Customer | receive order confirmation email | I know my order was received |
| US-2.1.8-007 | Finance Manager | have invoice records stored | I can access historical documents |
| US-2.1.8-008 | Support Team | receive new order alerts | I can prepare for customer onboarding |

#### Business Outcomes

- PDF invoice generated within 5 seconds
- Confirmation email sent within 1 minute
- Internal team notified immediately
- All documents stored for 7 years

---

### 6.3 Epic 3: Order Management

**Business Objective**: Provide customers visibility into their order status and history.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.8-009 | Customer | view my order details | I can verify the order is correct |
| US-2.1.8-010 | Customer | see all my past orders | I can track my purchase history |
| US-2.1.8-011 | Customer | cancel a pending order | I can change my mind before paying |
| US-2.1.8-012 | Customer | download my invoice again | I can retrieve lost documents |

#### Business Outcomes

- Order details available immediately
- Order history with pagination for many orders
- Cancellation only allowed before payment
- Invoice downloads available indefinitely

---

### 6.4 Epic 4: Order Status Updates

**Business Objective**: Keep customers informed about changes to their order status throughout the lifecycle.

#### User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US-2.1.8-013 | Customer | be notified when my order status changes | I stay informed about my purchase |
| US-2.1.8-014 | Customer | see the current status of my order | I know what to expect next |
| US-2.1.8-015 | Support Agent | update order status | I can reflect processing progress |
| US-2.1.8-016 | System | update status when payment confirmed | the order progresses automatically |

#### Business Outcomes

- Status change emails sent within 1 minute
- Order status visible in customer portal
- Clear status progression shown to customer
- Automatic status updates from payment system

---

## 7. Business Rules

### 7.1 Order Creation Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-ORD-001 | Order requires at least one item | Prevents empty orders |
| BR-ORD-002 | Order total must exceed R50 | Minimum order value |
| BR-ORD-003 | Billing address is mandatory | Required for invoicing |
| BR-ORD-004 | Customer email is mandatory | Required for notifications |
| BR-ORD-005 | Campaign codes validated at order time | Ensures valid discounts |

### 7.2 Order Lifecycle Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-ORD-006 | Only pending orders can be cancelled | Paid orders require refund process |
| BR-ORD-007 | Orders cannot be edited after creation | Maintains audit integrity |
| BR-ORD-008 | Order status follows defined transitions | Ensures valid lifecycle |
| BR-ORD-009 | Completed orders cannot be cancelled | Final state is permanent |

### 7.3 Documentation Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-ORD-010 | Every order generates a PDF invoice | Compliance and customer requirement |
| BR-ORD-011 | Invoice includes campaign details | Transparency on discounts |
| BR-ORD-012 | Order records retained for 7 years | Financial compliance |
| BR-ORD-013 | Order number is unique and sequential | Easy reference for support |

### 7.4 Guest Checkout Rules

| Rule ID | Rule | Rationale |
|---------|------|-----------|
| BR-ORD-014 | Guest checkout creates unvalidated account | Enables order tracking |
| BR-ORD-015 | Guest email becomes account identifier | Consistent customer record |
| BR-ORD-016 | Existing customer matched by email | Prevents duplicate accounts |

---

## 8. Success Criteria

### 8.1 Operational Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Order Creation Success** | > 99.5% | Successful / Attempted |
| **Order Confirmation Time** | < 15 seconds | Order to email delivery |
| **Invoice Generation Time** | < 5 seconds | Order to PDF created |
| **Order Retrieval Time** | < 500ms | API response time |

### 8.2 Customer Experience Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Checkout Completion Rate** | > 85% | Completed / Started |
| **Order-Related Tickets** | < 3/month | Support tickets |
| **Customer Satisfaction** | > 4.2/5 | Post-order survey |

### 8.3 Business Metrics

| Metric | Target | Measurement Method |
|--------|--------|-------------------|
| **Campaign Usage Rate** | Track | Orders with campaigns / Total orders |
| **Average Order Value** | Track | Total revenue / Total orders |
| **Order Volume Growth** | Track | Month-over-month comparison |

---

## 9. Risks and Mitigations

### 9.1 Business Risks

| ID | Risk | Probability | Impact | Mitigation |
|----|------|-------------|--------|------------|
| R-001 | Order creation fails | Low | High | Immediate retry, clear error messages |
| R-002 | Invoice not generated | Low | Medium | Background retry, alert on failure |
| R-003 | Confirmation email not delivered | Low | Medium | Multiple retry attempts, bounce handling |
| R-004 | Customer disputes order contents | Low | Medium | Complete audit trail, itemized invoices |

### 9.2 Compliance Risks

| ID | Risk | Probability | Impact | Mitigation |
|----|------|-------------|--------|------------|
| R-005 | Missing financial records | Low | High | 7-year retention, automated backups |
| R-006 | Invoice discrepancies | Low | Medium | Validation at order creation |

---

## 10. References

### 10.1 Related Business Documents

| Document | Relationship |
|----------|--------------|
| BRS 2.1.7: Cart Management | Upstream - provides cart to convert |
| BRS 2.1.9: Payment Management | Downstream - processes payment |
| BRS 2.5: Tenant Management | Customer account creation |
| BRS 2.1: Customer Portal Public | Parent capability |

### 10.2 Technical Documents

| Document | Content |
|----------|---------|
| HLD 2.1.8: Order Management | Architectural design |
| LLD 2.1.8: Order Lambda | Implementation details |

---

## 11. Sign-Off

| Role | Name | Signature | Date |
|------|------|-----------|------|
| Product Owner | | | |
| Finance Manager | | | |
| Operations Manager | | | |

---

**End of Document**
