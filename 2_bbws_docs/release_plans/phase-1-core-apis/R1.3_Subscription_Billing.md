# Release Plan: R1.3 - Subscription & Billing
## Phase 1: Core APIs (Dependency)

**Document ID**: RP-R1.3-SUBSCRIPTION-BILLING
**Version**: 1.0
**Created**: 2026-01-25
**Status**: In Progress
**Priority**: P0 - CRITICAL (Dependency)

---

## Release Summary

| Attribute | Value |
|-----------|-------|
| **Release #** | R1.3 |
| **BRS Reference** | BRS 2.1.11 |
| **Phase** | Phase 1 - Core APIs (Dependency) |
| **SDLC Track** | Backend (10 stages) |
| **Depends On** | R1.0 (Tenant Management API) |
| **Target Release Date** | _______________ |
| **UAT Signoff Date** | _______________ |
| **Business Owner** | _______________ |

---

## 1. Release Objective

Implement the **Subscription & Billing** system that manages subscription plans, merchant payments, billing cycles, and payment integrations.

### Key Capabilities
- Subscription plan management
- Merchant payment processing
- Billing cycle automation
- Invoice generation
- Payment gateway integration (PayFast)
- Usage metering

---

## 2. LLD Components

### From BRS 2.1.11 Subscription Billing

| LLD | Service | Priority | Status |
|-----|---------|----------|--------|
| 2.1.11.1 | Subscription Lambda | P0 | COMPLETE |
| 2.1.11.2 | Merchant Payment Lambda | P0 | COMPLETE |
| 2.1.11.3 | Subscription DynamoDB | P0 | COMPLETE |
| 2.1.11.4 | Merchant Payment DynamoDB | P0 | COMPLETE |

---

## 3. User Stories Included

| Story ID | User Story | Priority | Status |
|----------|-----------|----------|--------|
| SB-001 | Create subscription plan | P0 | Pending |
| SB-002 | Subscribe to plan | P0 | Pending |
| SB-003 | Upgrade subscription | P0 | Pending |
| SB-004 | Downgrade subscription | P0 | Pending |
| SB-005 | Cancel subscription | P0 | Pending |
| SB-006 | Process recurring payment | P0 | Pending |
| SB-007 | Generate invoice | P0 | Pending |
| SB-008 | View payment history | P0 | Pending |
| SB-009 | Handle failed payments | P0 | Pending |
| SB-010 | Apply promo codes | P1 | Pending |

---

## 4. Dependencies

### Upstream Dependencies

| Dependency | Type | Status | Owner |
|------------|------|--------|-------|
| R1.0 Tenant Management API | Release | COMPLETE | API Team |
| PayFast Integration | External | PENDING | DevOps |
| DynamoDB Tables | Infrastructure | PENDING | DevOps |

### Downstream Dependents

| Dependent | BRS | Phase | Waiting For |
|-----------|-----|-------|-------------|
| Customer Portal | 2.2 | Phase 2 | Subscription APIs |
| Admin Portal | 2.4 | Phase 3b | Billing reports |

---

## 5. Deliverables Checklist

| # | Deliverable | Status | Verified By | Date |
|---|-------------|--------|-------------|------|
| 1 | `HLDs/2.1.11_HLD_Subscription_Management.md` | COMPLETE | Architect | ___ |
| 2 | `LLDs/2.1.11.1_LLD_Subscription_Lambda.md` | COMPLETE | Architect | ___ |
| 3 | `LLDs/2.1.11.2_LLD_Merchant_Payment_Lambda.md` | COMPLETE | Architect | ___ |
| 4 | `LLDs/2.1.11.3_LLD_Subscription_DynamoDB.md` | COMPLETE | Architect | ___ |
| 5 | `LLDs/2.1.11.4_LLD_Merchant_Payment_DynamoDB.md` | COMPLETE | Architect | ___ |
| 6 | Lambda implementations | PENDING | ___ | ___ |
| 7 | DynamoDB tables | PENDING | ___ | ___ |
| 8 | PayFast integration | PENDING | ___ | ___ |
| 9 | Unit tests - >80% coverage | PENDING | ___ | ___ |
| 10 | Integration tests | PENDING | ___ | ___ |

---

## 6. Definition of Done

| # | Criteria | Status |
|---|----------|--------|
| 1 | All LLDs completed and approved | COMPLETE |
| 2 | All Lambda functions deployed | PENDING |
| 3 | DynamoDB tables operational | PENDING |
| 4 | PayFast integration working | PENDING |
| 5 | Recurring billing operational | PENDING |
| 6 | Invoice generation working | PENDING |
| 7 | DEV environment deployment | PENDING |
| 8 | SIT environment deployment | PENDING |
| 9 | UAT completed with sign-off | PENDING |

---

## 7. Sign-Off

| Role | Name | Date | Signature |
|------|------|------|-----------|
| Product Owner | | | |
| Tech Lead | | | |
| Finance Lead | | | |
| Business Owner | | | |

---

*This is a dependency release for Phase 1 Core APIs, supporting the Customer Portal (R2.0).*
