# Release Plan: R1.2 - Site Management API
## Phase 1b: Core APIs

**Document ID**: RP-R1.2-SITE-API
**Version**: 1.0
**Created**: 2026-01-25
**Status**: In Development
**Priority**: P0 - CRITICAL

---

## Release Summary

| Attribute | Value |
|-----------|-------|
| **Release #** | R1.2 |
| **BRS Reference** | BRS 2.6 |
| **Phase** | Phase 1b - Core APIs |
| **SDLC Track** | Backend (10 stages) |
| **Target Release Date** | _______________ |
| **UAT Signoff Date** | _______________ |
| **Business Owner** | _______________ |

---

## 1. Release Objective

Implement the **Site Management API** that provides WordPress site lifecycle management including template marketplace, plugin management, and environment promotion workflows.

### Key Capabilities
- WordPress site CRUD operations
- Template marketplace and application
- Plugin management system
- Environment promotion workflows (DEV -> SIT -> PROD)
- Site migration support (Mode A and Mode B)
- DNS-only site management

---

## 2. User Stories Included

### From BRS 2.6 Site Management

| Story ID | User Story | Priority | Status |
|----------|-----------|----------|--------|
| SM-001 | Create new WordPress site | P0 | Pending |
| SM-002 | Apply template to site | P0 | Pending |
| SM-003 | Install/manage plugins | P1 | Pending |
| SM-004 | Promote site to next environment | P0 | Pending |
| SM-005 | Create site backup | P0 | Pending |
| SM-006 | Restore site from backup | P0 | Pending |
| SM-007 | Launch site to production | P0 | Pending |
| SM-008 | Start WordPress migration | P1 | Pending |
| SM-009 | Complete Mode A migration | P1 | Pending |
| SM-010 | Complete Mode B migration | P1 | Pending |
| SM-011 | Create DNS-only site | P2 | Pending |
| SM-012 | Manage DNS records | P2 | Pending |

---

## 3. Dependencies

### Upstream Dependencies (Required Before Start)

| Dependency | Type | Status | Owner |
|------------|------|--------|-------|
| R1.0 Tenant Management API | Release | COMPLETE | API Team |
| R1.1 Instance Management API | Release | COMPLETE | API Team |
| S3 Template Bucket | Infrastructure | PENDING | DevOps |
| EFS Site Storage | Infrastructure | COMPLETE | DevOps |
| Route53 DNS Integration | Infrastructure | PENDING | DevOps |

### Downstream Dependents (Waiting for This Release)

| Dependent | BRS | Phase | Waiting For |
|-----------|-----|-------|-------------|
| Customer Portal | 2.2 | Phase 2 | Site management APIs |
| Admin App | 2.3 | Phase 3a | Site management APIs |
| Admin Portal | 2.4 | Phase 3b | Site management APIs |

---

## 4. SDLC Stage Tracking

### Backend Track (10 Stages)

| Stage | Name | Status | Progress | Start Date | End Date |
|-------|------|--------|----------|------------|----------|
| 1 | Requirements & Analysis | COMPLETE | 100% | 2026-01-18 | 2026-01-19 |
| 2 | HLD Creation | COMPLETE | 100% | 2026-01-19 | 2026-01-20 |
| 3 | LLD Creation | COMPLETE | 100% | 2026-01-20 | 2026-01-21 |
| 4 | API Tests (TDD) | IN_PROGRESS | 20% | 2026-01-21 | ___ |
| 5 | API Implementation | PENDING | 0% | ___ | ___ |
| 6 | API Proxy | PENDING | 0% | ___ | ___ |
| 7 | Infrastructure (Terraform) | PENDING | 0% | ___ | ___ |
| 8 | CI/CD Pipeline | PENDING | 0% | ___ | ___ |
| 9 | Route53/Domain | PENDING | 0% | ___ | ___ |
| 10 | Deploy & Test | PENDING | 0% | ___ | ___ |

---

## 5. Validation Gates

| Gate | Name | Approvers | Criteria | Status |
|------|------|-----------|----------|--------|
| G1 | Design Approval | Tech Lead, Architect | HLD + LLD reviewed | APPROVED |
| G2 | Code Review | Tech Lead | Tests + code reviewed | PENDING |
| G3 | Infrastructure Review | DevOps Lead | Terraform validated | PENDING |
| G4 | Production Ready | Tech Lead, PM | All tests passing | PENDING |

---

## 6. Deliverables Checklist

| # | Deliverable | Status | Verified By | Date |
|---|-------------|--------|-------------|------|
| 1 | `HLDs/2.6_HLD_Site_Management.md` - Approved | COMPLETE | Architect | 2026-01-20 |
| 2 | `LLDs/2.6_LLD_Site_Management.md` - Approved | COMPLETE | Architect | 2026-01-21 |
| 3 | `2_bbws_site_management/` repository | PENDING | ___ | ___ |
| 4 | `openapi-specs/site_management_v1.0.yaml` | PENDING | ___ | ___ |
| 5 | Template marketplace | PENDING | ___ | ___ |
| 6 | Plugin management system | PENDING | ___ | ___ |
| 7 | Environment promotion workflows | PENDING | ___ | ___ |
| 8 | Terraform modules | PENDING | ___ | ___ |
| 9 | CI/CD pipelines | PENDING | ___ | ___ |
| 10 | Unit tests - >80% coverage | PENDING | ___ | ___ |
| 11 | Integration tests | PENDING | ___ | ___ |

---

## 7. Definition of Done

| # | Criteria | Status |
|---|----------|--------|
| 1 | All SDLC stages (1-10) completed | PENDING |
| 2 | All validation gates approved | PENDING |
| 3 | Site CRUD operations functional | PENDING |
| 4 | Template application working | PENDING |
| 5 | Plugin installation/management working | PENDING |
| 6 | Environment promotion tested end-to-end | PENDING |
| 7 | DEV environment deployment successful | PENDING |
| 8 | SIT environment deployment successful | PENDING |
| 9 | UAT completed with sign-off | PENDING |
| 10 | PROD deployment approved | PENDING |

---

## 8. Environment Deployments

| Environment | Region | Lambda Function | API Gateway | Status |
|-------------|--------|-----------------|-------------|--------|
| DEV | eu-west-1 | bbws-site-management-dev | ___ | PENDING |
| SIT | af-south-1 | bbws-site-management-sit | ___ | PENDING |
| PROD | af-south-1 | bbws-site-management-prod | ___ | PENDING |

---

## 9. API Endpoints

| Method | Endpoint | Description | Status |
|--------|----------|-------------|--------|
| POST | `/sites` | Create new site | PENDING |
| GET | `/sites/{id}` | Get site details | PENDING |
| GET | `/sites` | List tenant sites | PENDING |
| PUT | `/sites/{id}` | Update site | PENDING |
| DELETE | `/sites/{id}` | Delete site | PENDING |
| GET | `/templates` | List templates | PENDING |
| POST | `/sites/{id}/template` | Apply template | PENDING |
| GET | `/plugins` | List available plugins | PENDING |
| POST | `/sites/{id}/plugins` | Install plugin | PENDING |
| POST | `/sites/{id}/promote` | Promote to next env | PENDING |
| POST | `/sites/{id}/backup` | Create backup | PENDING |
| POST | `/sites/{id}/restore` | Restore backup | PENDING |

---

## 10. Risk Register

| Risk | Impact | Probability | Mitigation | Status |
|------|--------|-------------|------------|--------|
| Template marketplace complexity | MEDIUM | MEDIUM | MVP with basic templates | OPEN |
| Environment promotion failures | HIGH | MEDIUM | Rollback procedures | OPEN |
| DNS propagation delays | LOW | HIGH | TTL configuration | OPEN |

---

## 11. Sign-Off

| Role | Name | Date | Signature |
|------|------|------|-----------|
| Product Owner | | | |
| Tech Lead | | | |
| DevOps Lead | | | |
| Business Owner | | | |

---

*This release is part of Phase 1b (Core APIs) and depends on R1.0 and R1.1.*
